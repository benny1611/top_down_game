[gd_scene load_steps=5 format=2]

[ext_resource path="res://assets/Death_Sound.wav" type="AudioStream" id=1]
[ext_resource path="res://src/Entity.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=3]
script/source = "extends \"res://src/Entity.gd\"

func player_entered(body):
	#print(body.is_on_platform())
	if body.has_method(\"die\") and not body.is_on_platform() and not body.is_jumping():
		$TrapSound.play()
		body.die(null, \"\")
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 5, 32 )

[node name="Trap" instance=ExtResource( 2 )]
script = SubResource( 3 )

[node name="CollisionShape2D" parent="." index="1"]
shape = SubResource( 2 )

[node name="TrapSound" type="AudioStreamPlayer" parent="." index="2"]
stream = ExtResource( 1 )
